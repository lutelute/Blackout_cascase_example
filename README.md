# カスケード停電・電圧安定性シミュレーション

電力系統のカスケード停電現象と電圧安定性を視覚的に学習できるインタラクティブシミュレーションです。

## 🔗 ライブデモ

**基本版（カスケード停電）:** https://lutelute.github.io/Blackout_cascase_example/
**強化版（電圧安定性・無効電力）:** https://lutelute.github.io/Blackout_cascase_example/enhanced.html

## 📚 概要

このシミュレーションは、電力系統における発電機や送電線の故障が連鎖的に波及する「カスケード停電」現象と「電圧安定性」問題を理解するための教育ツールです。

### ✨ 基本版の特徴

- **DC/AC潮流計算**: 有効電力のみのDC潮流計算と、無効電力・電圧を含むAC潮流計算の両方に対応
- **インタラクティブシミュレーション**: ステップバイステップでカスケード進行を観察
- **潮流方向表示**: 矢印で電力の流れを視覚化
- **リアルタイム監視**: 発電機の負荷率、電圧、過負荷状態をリアルタイム表示
- **複数シナリオ**: 極限カスケード、ドミノ倒し、段階的過負荷など

### 🔋 強化版の特徴（NEW!）

- **ニュートン・ラプソン法AC潮流**: 高精度な交流潮流計算
- **PQバスモデリング**: 有効・無効電力を独立制御
- **電圧安定性解析**: リアルタイム電圧安定性マージン計算
- **無効電力制約**: 発電機励磁限界とSVC（無効電力補償装置）
- **電圧崩壊シナリオ**: 負荷急増、Q-limit、長距離送電線事故など
- **風力発電変動**: 再生可能エネルギーの変動影響

### 🎯 学習目標

- 電力系統の安定性と脆弱性の理解
- カスケード停電のメカニズム
- 保護装置の動作とその影響
- 地域間連系線の重要性

## 🚀 使用方法

### Web版での実行

1. [ライブデモ](https://lutelute.github.io/Blackout_cascase_example/)にアクセス
2. シナリオを選択（極限カスケード、ドミノ倒しなど）
3. 潮流計算タイプを選択（DC/AC）
4. 過負荷閾値と保護動作時間を調整
5. 「次へ」または「自動」ボタンでシミュレーション開始

### ローカルでの実行

```bash
git clone https://github.com/lutelute/Blackout_cascase_example.git
cd Blackout_cascase_example
# ブラウザでindex.htmlを開く
```

## 🔧 技術仕様

### システム構成

- **地域A**: 発電機3台（G1A: 280MW, G2A: 250MW, G3A: 220MW）+ 負荷4箇所
- **地域B**: 発電機2台（G1B: 240MW, G2B: 220MW）+ 負荷5箇所  
- **地域C**: 発電機3台（G1C: 260MW, G2C: 200MW, G3C: 180MW）+ 負荷3箇所
- **連系線**: 5本の地域間連系線で接続

### 計算手法

#### DC潮流計算（Pのみ）
- ニュートン・ラプソン法による高速計算
- 有効電力のみを考慮
- 位相角差による潮流計算

#### AC潮流計算（PQ+V）
- 有効電力・無効電力・電圧を統合計算
- 電圧降下と電圧制約を考慮
- より現実的だが計算負荷が高い

### パラメータ設定

- **過負荷閾値**: 105-115%（デフォルト: 108%）
- **保護動作**: 2-8ステップ（デフォルト: 5ステップ）
- **計算収束判定**: 1e-6（DC潮流）

## 📊 シナリオ詳細

### 🔥 極限カスケード：主要発電機喪失
- **初期故障**: G1A (280MW) トリップ
- **特徴**: 系統余裕率がギリギリの状態から大規模カスケードに発展

### 🔥 ドミノ倒し：連系線破断
- **初期故障**: A-B連系線（200MW容量）トリップ
- **特徴**: 地域孤立により各地域で需給バランス崩壊

### 🔥🔥 地獄のカスケード：二重故障
- **初期故障**: G1AとG1B同時トリップ（520MW喪失）
- **特徴**: 最も過酷な故障パターン、両地域同時崩壊

### 📚 段階的過負荷（教育用）
- **初期故障**: G3A (220MW) トリップ
- **特徴**: ゆっくりとした波及で学習に最適

## 🔬 技術詳細

### 保護装置モデル

```javascript
// 過負荷判定
const loadFactor = genOutput / genCapacity;
if (loadFactor > relayThreshold) {
    overloadCount++;
    if (overloadCount >= overloadStepsRequired) {
        tripGenerator();
    }
}
```

### 潮流計算コア

```javascript
// DC潮流：ニュートン・ラプソン法
const flow = (thetaFrom - thetaTo) / lineReactance;

// AC潮流：電圧降下考慮
const voltageDrop = flow * lineResistance * 0.001;
const voltage = Math.max(0.90, 1.0 - voltageDrop);
```

## 📈 教育活用

### 大学・高専での活用
- 電力系統工学の講義
- 制御工学の実習
- 電気回路の応用演習

### 研修・セミナー
- 電力会社の新人研修
- 系統運用員のトレーニング
- 電力技術者向けセミナー

### 学習ポイント
1. **系統安定性**: 需給バランスと周波数制御
2. **保護協調**: 保護装置の段階的動作
3. **連系効果**: 地域間連系線の安定化効果
4. **運用余裕**: 余裕率と信頼性のトレードオフ

## 🛠️ 開発・カスタマイズ

### ファイル構成
```
├── index.html          # Web版シミュレーション
├── comprehensive_powerflow_simulation.jsx  # React版ソースコード
└── README.md          # このファイル
```

### カスタマイズ例
- 系統構成の変更
- 新しい故障シナリオの追加
- 保護装置ロジックの改良
- UI/UXの改善

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告、機能要求、プルリクエストを歓迎します。

## 📞 お問い合わせ

- GitHub Issues: [問題を報告](https://github.com/lutelute/Blackout_cascase_example/issues)
- 電力系統工学に関する技術的な質問もお気軽にどうぞ

---

**注意**: このシミュレーションは教育目的で作成されており、実際の電力系統運用には使用しないでください。